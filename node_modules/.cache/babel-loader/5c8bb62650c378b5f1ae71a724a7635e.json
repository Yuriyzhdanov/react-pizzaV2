{"ast":null,"code":"// import React from 'react'\n// import PizzaBlock from \"../components/PizzaBlock/PizzaBlock\";\n// import Sort from \"../components/Sort\";\n// import Skeleton from \"../components/PizzaBlock/Skeleton\";\n// import Categories from '../components/Categories';\n// import { SearchContext } from '../App';\n// import { Pagination } from '../components/Pagination';\n// export const Home = () => {\n//    const { searchValue } = React.useContext(SearchContext);\n//    const [items, setItems] = React.useState([]);\n//    const [isLoading, setIsLoading] = React.useState(true)\n//    const [currentPage, setCurrentPage] = React.useState(1)\n//    const [categoryId, setCategoryId] = React.useState(0);\n//    const [sortType, setSortType] = React.useState({\n//       name: 'популярности',\n//       sortProperty: 'rating'\n//    });\n//    React.useEffect(() => {\n//       setIsLoading(true)\n//       const sortBy = sortType.sortProperty.replace('-', '');\n//       const order = sortType.sortProperty.includes('-') ? 'asc' : 'desc';\n//       const category = categoryId > 0 ? `category=${categoryId}` : '';\n//       const search = searchValue ? `&search=${searchValue}` : '';\n//       fetch(`https://6304e8e294b8c58fd727feba.mockapi.io/items?page={currentPage}&limit=4&${category}&sortBy=${sortBy}&order=${order}${search}`)\n//          .then((res) => res.json())\n//          .then((arr) => {\n//             setItems(arr);\n//             setIsLoading(false)\n//          });\n//       window.scrollTo(0, 0);\n//    }, [categoryId, sortType, searchValue,currentPage]);\n//    const pizzas = items.map((obj) => <PizzaBlock key={obj.id}{...obj} />);\n//    const skeletons = [...new Array(6)].map((_, index) => <Skeleton key={index} />)\n//    return (\n//       <div className=\"container\">\n//          <div className=\"content__top\">\n//             <Categories value={categoryId} onChangeCategory={(i) => setCategoryId(i)} />\n//             <Sort value={sortType} onChangeSort={(i) => setSortType(i)} />\n//          </div>\n//          <h2 className=\"content__title\">Все пиццы</h2>\n//          <div className=\"content__items\">\n//             {isLoading ? skeletons : pizzas}\n//          </div>\n//          <Pagination onChangePage={number => setCurrentPage(number)}/>\n//       </div>\n//    )\n// }\n//   // .filter((obj) => {\n//       //    if (obj.title.toLowerCase().includes(searchValue.ArraytoLowerCase())) {\n//       //       return true;\n//       //    }\n//       //    return false;\n//       // })","map":{"version":3,"names":[],"sources":["/Users/yuriizhdanov/Downloads/myProject/react-pizzaV2/src/pages/Home.jsx"],"sourcesContent":["// import React from 'react'\n\n// import PizzaBlock from \"../components/PizzaBlock/PizzaBlock\";\n// import Sort from \"../components/Sort\";\n// import Skeleton from \"../components/PizzaBlock/Skeleton\";\n// import Categories from '../components/Categories';\n// import { SearchContext } from '../App';\n// import { Pagination } from '../components/Pagination';\n\n\n\n// export const Home = () => {\n//    const { searchValue } = React.useContext(SearchContext);\n//    const [items, setItems] = React.useState([]);\n//    const [isLoading, setIsLoading] = React.useState(true)\n//    const [currentPage, setCurrentPage] = React.useState(1)\n//    const [categoryId, setCategoryId] = React.useState(0);\n//    const [sortType, setSortType] = React.useState({\n//       name: 'популярности',\n//       sortProperty: 'rating'\n//    });\n   \n\n//    React.useEffect(() => {\n//       setIsLoading(true)\n\n//       const sortBy = sortType.sortProperty.replace('-', '');\n//       const order = sortType.sortProperty.includes('-') ? 'asc' : 'desc';\n//       const category = categoryId > 0 ? `category=${categoryId}` : '';\n//       const search = searchValue ? `&search=${searchValue}` : '';\n\n\n//       fetch(`https://6304e8e294b8c58fd727feba.mockapi.io/items?page={currentPage}&limit=4&${category}&sortBy=${sortBy}&order=${order}${search}`)\n//          .then((res) => res.json())\n//          .then((arr) => {\n//             setItems(arr);\n//             setIsLoading(false)\n//          });\n//       window.scrollTo(0, 0);\n//    }, [categoryId, sortType, searchValue,currentPage]);\n\n//    const pizzas = items.map((obj) => <PizzaBlock key={obj.id}{...obj} />);\n\n//    const skeletons = [...new Array(6)].map((_, index) => <Skeleton key={index} />)\n\n//    return (\n//       <div className=\"container\">\n//          <div className=\"content__top\">\n//             <Categories value={categoryId} onChangeCategory={(i) => setCategoryId(i)} />\n//             <Sort value={sortType} onChangeSort={(i) => setSortType(i)} />\n//          </div>\n//          <h2 className=\"content__title\">Все пиццы</h2>\n//          <div className=\"content__items\">\n//             {isLoading ? skeletons : pizzas}\n//          </div>\n//          <Pagination onChangePage={number => setCurrentPage(number)}/>\n//       </div>\n//    )\n// }\n\n//   // .filter((obj) => {\n//       //    if (obj.title.toLowerCase().includes(searchValue.ArraytoLowerCase())) {\n//       //       return true;\n//       //    }\n//       //    return false;\n\n//       // })"],"mappings":"AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA"},"metadata":{},"sourceType":"module"}